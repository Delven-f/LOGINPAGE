<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Growtopia - Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&display=swap" rel="stylesheet">
  <style>
    body {
      min-height: 100vh;
      background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
      font-family: 'Montserrat', Arial, sans-serif;
    }
    .glass {
      background: rgba(34, 54, 86, 0.72);
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.18);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      border-radius: 2rem;
      border: 1.5px solid rgba(255, 255, 255, 0.16);
    }
    .ubisoft-logo {
      width: 62px;
      height: 62px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #fff 10%, #1ebbd7 90%);
      border-radius: 50%;
      box-shadow: 0 0 24px #1ebbd755, 0 2px 8px #0003;
      margin: 0 auto 18px auto;
      position: relative;
    }
    /* Ubisoft swirl SVG style */
    .swirl {
      position: absolute;
      left: 50%; top: 50%;
      transform: translate(-50%, -50%);
      width: 48px; height: 48px;
      filter: drop-shadow(0 0 6px #31d1ff88);
    }
    .input-label {
      color: #e0e6ed;
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 0.25rem;
      letter-spacing: 0.01em;
    }
    .input-box {
      background: rgba(255,255,255,0.13) !important;
      border: 1.5px solid #31d1ff88 !important;
      border-radius: 0.7rem !important;
      color: #e0e6ed !important;
      font-size: 1.07rem;
      padding-left: 0.75rem;
    }
    .input-box::placeholder { color: #b3cce7; opacity: 1; }
    .btn-main {
      background: linear-gradient(90deg, #31d1ff 0%, #124e89 100%);
      color: #fff;
      font-weight: bold;
      border-radius: 0.8rem;
      box-shadow: 0 2px 16px #31d1ff30;
      transition: 0.2s;
      letter-spacing: 0.02em;
    }
    .btn-main:hover {
      background: linear-gradient(90deg, #124e89 0%, #31d1ff 100%);
      transform: translateY(-2px) scale(1.04);
      box-shadow: 0 4px 24px #31d1ff70;
    }
    .btn-alt {
      background: linear-gradient(90deg, #36d399 0%, #1a485b 100%);
      color: #fff;
      font-weight: bold;
      border-radius: 0.8rem;
      box-shadow: 0 2px 16px #36d39925;
      transition: 0.2s;
      letter-spacing: 0.02em;
    }
    .btn-alt:hover {
      background: linear-gradient(90deg, #1a485b 0%, #36d399 100%);
      transform: translateY(-2px) scale(1.04);
    }
    .form-icon {
      color: #31d1ff;
      margin-right: 0.75rem;
      font-size: 1.1rem;
    }
    .error-message {
      background: #fff2;
      color: #f87171;
      border-radius: 0.5rem;
      padding: 0.5rem 1rem;
      font-size: 0.96rem;
      text-align: center;
      margin-bottom: 1rem;
      font-weight: bold;
      letter-spacing: 0.01em;
    }
    @media (max-width: 600px) {
      .glass { border-radius: 1.2rem; padding: 1.5rem !important; width: 97vw !important; }
      .ubisoft-logo { width: 48px; height: 48px; }
      .swirl { width: 36px; height: 36px; }
      .btn-main, .btn-alt { font-size: 1rem !important; padding: 0.7rem 1.2rem !important; }
    }
  </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen">
  <div class="fixed inset-0 flex items-center justify-center">
    <div class="glass w-[28rem] max-w-[96vw] p-10">
      <!-- Ubisoft-like Logo -->
      <div class="ubisoft-logo">
        <svg class="swirl" viewBox="0 0 64 64" fill="none">
          <circle cx="32" cy="32" r="27" stroke="#124e89" stroke-width="4"/>
          <path d="M47,41c-3.5-7.5-19.5-6-22.5-14.5c-2-5.5,4-10.5,12-10.5s14,4.5,14,11.5c0,7.5-7,8.5-12,9.5c-4,0.7-7.5,3.5-5,8.5"
                stroke="#31d1ff" stroke-width="3" fill="none" stroke-linecap="round"/>
          <circle cx="32" cy="47" r="3.5" fill="#31d1ff" stroke="#124e89" stroke-width="2"/>
        </svg>
      </div>
      <p class="text-white text-center font-bold text-3xl mb-3 tracking-wide drop-shadow-[0_1.5px_6px_rgba(31,209,255,0.17)]">GTPS SERVER</p>
      <div id="errorDiv" class="hidden error-message">
        <a id="errorMessage"></a>
      </div>
      <form 
        method="post"
        action="/player/growid/login/validate"
        accept-charset="UTF-8"
        id="loginForm" class="mt-3">
        <div class="mb-5">
          <label for="loginGrowId" class="input-label">GrowID</label>
          <div class="flex items-center input-box mt-1">
            <i class="fas fa-user form-icon"></i>
            <input type="text" name="growId" id="loginGrowId" 
              class="w-full bg-transparent border-none focus:outline-none placeholder-[#b3cce7] text-white"
              placeholder="Enter your growid" style="background-color: transparent;">
          </div>
        </div>
        <div class="mb-7">
          <label for="loginPassword" class="input-label">Password</label>
          <div class="flex items-center input-box mt-1">
            <i class="fas fa-lock form-icon"></i>
            <input type="password" name="password" id="loginPassword"
              class="w-full bg-transparent border-none focus:outline-none placeholder-[#b3cce7] text-white"
              placeholder="Enter your password" style="background-color: transparent;">
            <button type="button" id="toggleLogPassword" class="ml-3 bg-transparent border-none focus:outline-none">
              <i class="fas fa-eye text-[#31d1ff]"></i>
            </button>
          </div>
        </div>
        <div class="flex justify-between items-center mt-6">
          <button id="loginButton" type="submit" class="btn-main text-lg px-6 py-2">
            Login
          </button>
          <a href="/register">
            <button type="button" class="btn-alt text-lg px-6 py-2">
              Register
            </button>
          </a>
        </div>
      </form>
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Auto-fill GrowID from localStorage
      if (localStorage.getItem('growId')) {
        document.getElementById('loginGrowId').value = localStorage.getItem('growId');
      }
    });

    // Event listener for login button
    document.getElementById('loginButton').addEventListener('click', function (event) {
      event.preventDefault();
      const loginForm = document.getElementById('loginForm');
      const uName = document.getElementById('loginGrowId').value;
      const uPass = document.getElementById('loginPassword').value;
      if (!uName || !uPass) {
        document.getElementById('errorDiv').classList.remove('hidden');
        document.getElementById('errorMessage').innerHTML = 'Username or Password is empty';
        return;
      } else if (uName.length < 4 || uPass.length < 4) {
        document.getElementById('errorDiv').classList.remove('hidden');
        document.getElementById('errorMessage').innerHTML = 'Username or Password must be at least 4 characters long';
        return;
      } else {
        loginForm.submit();
        localStorage.setItem('growId', uName); // Save GrowID to localStorage
      }
    });

    // Toggle visibility of the password field
    document.getElementById('toggleLogPassword').addEventListener('click', function () {
      const LpasswordField = document.getElementById('loginPassword');
      const LpasswordFieldType = LpasswordField.getAttribute('type');
      if (LpasswordFieldType === 'password') {
        LpasswordField.setAttribute('type', 'text');
        this.innerHTML = '<i class="fas fa-eye-slash text-[#31d1ff]"></i>';
      } else {
        LpasswordField.setAttribute('type', 'password');
        this.innerHTML = '<i class="fas fa-eye text-[#31d1ff]"></i>';
      }
    });
  </script>
</body>
</html>
